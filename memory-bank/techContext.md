# 技術コンテキスト

## 使用技術スタック

### .NET プラットフォーム
- **.NET Standard 2.0**: 幅広い.NETバージョンとの互換性
- **C# 11.0**: 最新の言語機能を活用
- **Roslyn Compiler Platform**: ソースジェネレーター機能

### 主要ライブラリ
- **Microsoft.CodeAnalysis**: Roslynソースジェネレーター基盤
- **YamlDotNet (組み込み)**: YAML解析機能
- **Newtonsoft.Json**: JSON処理（サンプルプロジェクトで使用）

### 開発ツール
- **Visual Studio / Rider**: 主要IDE
- **MSBuild**: ビルドシステム
- **NUnit**: ユニットテスト（推定）

## プロジェクト構成

### ソリューション構造
```
mooresmaster.sln
├── mooresmaster.Generator/     # メインのソースジェネレーター
├── mooresmaster.Tests/         # ユニットテスト
└── mooresmaster.SandBox/       # 動作確認用サンプル
```

### 重要な設定ファイル
- `mooresmaster.Generator.csproj`: ソースジェネレーターとしてのパッケージ設定
- `launchSettings.json`: デバッグ設定
- `.gitignore`: バージョン管理除外設定

## 技術的制約

### .NET Standard 2.0 制約
- 最新のC#機能の一部制限
- 古いランタイムとの互換性維持が必要

### Roslyn Source Generator 制約
- ビルド時実行のため、外部リソースアクセス制限
- デバッグの複雑さ
- パフォーマンス要件

### 依存関係管理
- 外部依存の最小化（YamlDotNet組み込みの理由）
- バージョン競合の回避

## 開発環境セットアップ

### 必要な前提条件
- .NET SDK 6.0以上
- Visual Studio 2022 または JetBrains Rider

### ビルド手順
1. ソリューションファイルを開く
2. NuGetパッケージの復元
3. ソリューション全体のビルド
4. テストプロジェクトでの動作確認

### デバッグ方法
- `launchSettings.json`プロファイルの使用
- ユニットテストでのデバッグ
- Roslyn syntax tree viewerプラグインの活用

## パフォーマンス考慮事項

### ビルド時パフォーマンス
- 増分ソースジェネレーターの活用
- 不要な再生成の回避
- メモリ効率的な処理

### 生成コードの品質
- 最適化されたC#コードの生成
- 不要なアロケーションの回避
- 効率的なデータアクセスパターン

## セキュリティ考慮事項

### コード生成時
- 信頼できないスキーマファイルの処理
- インジェクション攻撃の防止
- 適切な入力検証

### 生成されたコード
- 型安全性の確保
- 適切な例外処理
- セキュアなデフォルト値

## 配布とパッケージング

### NuGetパッケージ
- ソースジェネレーターとしての適切なパッケージ設定
- 依存関係の最小化
- バージョニング戦略

### ドキュメント
- README.mdでの使用方法説明
- サンプルコードの提供
- トラブルシューティングガイド